-- Gui to Lua
-- Version: 3.2

-- Instances:

local CommandBar = Instance.new("ScreenGui")
local Bar = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local TextLabel = Instance.new("TextLabel")
local Commands = Instance.new("ScrollingFrame")
local Template = Instance.new("TextLabel")
local cmdListLayout = Instance.new("UIListLayout")

--Properties:

CommandBar.Name = "CommandBar"
CommandBar.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
CommandBar.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
CommandBar.ResetOnSpawn = false

Bar.Name = "Bar"
Bar.Parent = CommandBar
Bar.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Bar.Position = UDim2.new(0.764, 0,0.638, 0)
Bar.Size = UDim2.new(0.1875, 0, 0.361702114, 0)
Bar.BorderSizePixel = 0

TextBox.Parent = Bar
TextBox.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
TextBox.BorderSizePixel = 0
TextBox.Position = UDim2.new(0, 0, 0.105885848, 0)
TextBox.Size = UDim2.new(1, 0, 0.0971866995, 0)
TextBox.Font = Enum.Font.SourceSansBold
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextScaled = true
TextBox.TextSize = 14.000
TextBox.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)
TextBox.TextWrapped = true

TextLabel.Parent = Bar
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.Position = UDim2.new(0.0500000007, 0, -0.000961108599, 0)
TextLabel.Size = UDim2.new(0.897222221, 0, 0.104859337, 0)
TextLabel.Font = Enum.Font.SourceSansBold
TextLabel.Text = "Gravy's Bizarre Admin V.2"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

Commands.Name = "Commands"
Commands.Parent = Bar
Commands.Active = true
Commands.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Commands.BackgroundTransparency = 1.000
Commands.BorderSizePixel = 0
Commands.Position = UDim2.new(0, 0, 0.202046037, 0)
Commands.Size = UDim2.new(1, 0, 0.800511479, 0)
Commands.BottomImage = ""
Commands.CanvasSize = UDim2.new(0, 0, 5, 0)
Commands.MidImage = ""
Commands.TopImage = ""

Template.Name = "Template"
Template.Parent = Commands
Template.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Template.BackgroundTransparency = 1.000
Template.Position = UDim2.new(0.0495930985, 0, 0.00586192682, 0)
Template.Size = UDim2.new(0.925999999, 0, 0.0199999996, 0)
Template.Font = Enum.Font.SourceSansBold
Template.Text = ""
Template.TextColor3 = Color3.fromRGB(255, 255, 255)
Template.TextScaled = true
Template.TextSize = 14.000
Template.TextWrapped = true
Template.TextXAlignment = Enum.TextXAlignment.Left

cmdListLayout.Parent = Commands
cmdListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
cmdListLayout.SortOrder = Enum.SortOrder.LayoutOrder

local par = Instance.new("Part", game.ReplicatedStorage)
par.Name = "gravyoldschool"

local GetPlayer = function(String) -- Credit to Timeless/xFunnieuss
	local Found = {}
	local strl = String:lower()
	if strl == "all" then
		for i,v in pairs(game.Players:GetPlayers()) do
			table.insert(Found,v)
		end
	elseif strl == "others" then
		for i,v in pairs(game.Players:GetPlayers()) do
			if v.DisplayName ~= game.Players.LocalPlayer.DisplayName or v.Name:lower():sub(1, #String) == String:lower() then
				table.insert(Found,v)
			end
		end  
	elseif strl == "me" then
		for i,v in pairs(game.Players:GetPlayers()) do
			if v.DisplayName == game.Players.LocalPlayer.DisplayName or v.Name:lower():sub(1, #String) == String:lower() then
				table.insert(Found,v)
			end
		end  
	else
		for i,v in pairs(game.Players:GetPlayers()) do
			if v.DisplayName:lower():sub(1, #String) == String:lower() or v.Name:lower():sub(1, #String) == String:lower() then
				table.insert(Found,v)
			end
		end    
	end
	return Found    
end

minimize = function()
	local Down = game.TweenService:Create(Bar,TweenInfo.new(.4,Enum.EasingStyle.Cubic,Enum.EasingDirection.InOut,0,false,0),
		{Position=UDim2.new(0.764, 0,0.963, 0)}):Play()
end

minimize()

maximize = function()
	local Up = game.TweenService:Create(Bar,TweenInfo.new(.4,Enum.EasingStyle.Cubic,Enum.EasingDirection.InOut,0,false,0),
		{Position=UDim2.new(0.764, 0,0.638, 0)}):Play()
end

fix = function()
	coroutine.resume(coroutine.create(function()
	for i,v in pairs(game.Players.LocalPlayer.PlayerGui.CommandBar.Bar.Commands:GetChildren()) do
		if v.Name ~= "god" then
			v.Visible = false 
		end
		end
		end))
end

local matchSearch = function(str1,str2) return str1 == string.sub(str2,1,#str1) end

local topCommand = nil
IndexContents = function(str,bool,cmdbar,Ianim)
	local SizeY = 0
	local indexnum = 0
	local frame = Commands
	topCommand = nil
	local chunks = {}
	if str:sub(#str,#str) == "\\" then str = "" end
	for w in string.gmatch(str,"[^\\]+") do
		table.insert(chunks,w)
	end
	if #chunks > 0 then str = chunks[#chunks] end
	if str:sub(1,1) == "!" then str = str:sub(2) end
	for i,v in next, frame:GetChildren() do
		if v:IsA("TextLabel") then
			if bool then
				if matchSearch(str,v.Name) then
					indexnum = indexnum + 1
					v.Visible = true
					if topCommand == nil then
						topCommand = v.Name
					end
				else
					v.Visible = false
				end
			else
				v.Visible = true
				if topCommand == nil then
					topCommand = v.Name
				end
			end
		end
	end
	
	if not Ianim then
		if indexnum == 0 or string.find(str, " ") then
			if not cmdbar then
				minimize()
				fix()
			elseif cmdbar then
				minimize()
				fix()
			end
		else
			maximize()
			fix()
		end
	else
		minimize()
		fix()
	end
end

TextBox:GetPropertyChangedSignal("Text"):Connect(function()
	if TextBox:IsFocused() then
	    spawn(function()
		    IndexContents(TextBox.Text,true,true)
		end)
	end
end)

local plr = game.Players.LocalPlayer

local prefix = ";"
local Prefix = ""..prefix

local create = function(cmd,name)
	local clone = Commands.Template:Clone()
	local val = Instance.new("BoolValue")
	val.Parent = clone
	val.Name = "New"
	clone.Parent = Commands
	clone.Text = cmd
	clone.Name = name
	wait()
end

local getremote = function(name)
	for i,v in pairs(game.ReplicatedStorage:GetDescendants()) do
		if v.Name == name and v:IsA("RemoteEvent") and v.Parent.Name ~= "Properties" then
			return v
		end
	end
end

local spinunravel = getremote("SpinUnravel")
local samuraidmg = getremote("SamuraiDamage2")
local anchor = getremote("Anchor")
local deletestand = getremote("CreatorWSDamage11")
local swap = getremote("SwapClones")
local knock = getremote("KnockAdvanced")
local heal = getremote("Heal7")
local lagremote = getremote("Anubis")
local transparency = getremote("Transparency")

if spinunravel then
	create("God/Ungod [Player]","god")
	create("Kill [Player]","kill")
	create("Freeze [Player]","freeze")
	create("Banish [Player]","banish")
	create("Fling [Player]","fling")
end
if deletestand then 
	create("Deletestand [Player]","deletestand")
end
if spinunravel then
	create("Ragdoll [Player]","ragdoll")
end
if transparency then
	create("Invisible/Visible","visible invisible")
end
create("Mute [Player]","mute")
if swap then
	create("Bring [Player]","bring")
end
create("Goto [Player]","goto")
create("Nostun","nostun")
create("Antits","antits")
create("Damage","damage")
create("Nocooldown","nocooldown")
if lagremote then
	create("Lag/Unlag","lag unlag")
end
if spinunravel then
	create("Serverlock","serverlock")
end
create("Tpmenu","tpmenu")
create("Dex","dex")

local frameentered = false
local commandsentered = false
local textlabelentered = false

fix()

Bar.MouseEnter:Connect(function()
	if frameentered == true or textlabelentered == true or commandsentered == true then return end
	frameentered = true
	maximize()
	fix()
end)

Bar.MouseLeave:Connect(function()
	wait(.1)
	frameentered = false
	if commandsentered == false and textlabelentered == false then
		minimize()
		fix()
	end
end)

Commands.MouseEnter:Connect(function()
	if frameentered == true or textlabelentered == true or commandsentered == true then return end
	commandsentered = true
	maximize()
	fix()
end)

Commands.MouseLeave:Connect(function()
	wait(.1)
	commandsentered = false
	if frameentered == false and textlabelentered == false then
		minimize()
		fix()
	end
end)

TextBox.MouseEnter:Connect(function()
	if frameentered == true or textlabelentered == true or commandsentered == true then return end
	textlabelentered = true
	maximize()
	fix()
end)

TextBox.MouseLeave:Connect(function()
	wait(.1)
	textlabelentered = false
	if frameentered == false and commandsentered == false then
		minimize()
		fix()
	end
end)

local autogod = false
local nocd = false
local lag = false

local mute = function(plr,part)
	if plr then
		if part.Name == "Stand" then
			if plr.Character:FindFirstChild(part) then
				for i,v in pairs(plr.Character[part].StandHumanoidRootPart:GetChildren()) do
					if v:IsA("Sound") then if v.Playing == true then v.Playing = false end end
				end
			end
		else
			if plr.Character:FindFirstChild(part) then
				for i,v in pairs(plr.Character:FindFirstChild(part):GetChildren()) do
					if v:IsA("Sound") then if v.Playing == true then v.Playing = false end end
				end
			end

		end
	end
end

local visible = function(val)
	for _,f in pairs(game.Players.LocalPlayer.Character:GetChildren()) do if (f:IsA("Accessory")) then game:GetService("ReplicatedStorage").Transparency:FireServer(f.Handle,val) end end
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character.Head,val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character.Head.face,val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character.Torso,val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character["Left Leg"],val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character["Right Leg"],val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character["Right Arm"],val)
	game:GetService("ReplicatedStorage").Transparency:FireServer(plr.Character["Left Arm"],val)
end

local cmds = function(msg)
	coroutine.resume(coroutine.create(function()
		local args = string.split(string.lower(msg)," ")

		local cmd = args[1]

		local player = nil

		if not string.find(cmd, ""..Prefix) then
			cmd = Prefix..""..args[1]
		end

		if args[2] then
			player = args[2]
			for i,v in pairs(GetPlayer(args[2])) do
				if game.Players:FindFirstChild(v.Name) then
					player = game.Players[v.Name]
				end
			end
		end

		if cmd == Prefix.."Banish" or cmd == Prefix.."banish" then
			if not game.Players:FindFirstChild(player.Name) then return end if not spinunravel then return end

			while wait() do
				coroutine.resume(coroutine.create(function()
					if game.Players:FindFirstChild(player.Name) then
						local otherChar = game.Players[player.Name].Character or game.Players[player.Name].CharacterAdded:Wait()
						if (plr.Character.HumanoidRootPart.Position - game.Players[player.Name].Character.HumanoidRootPart.Position).magnitude < 10000 then
							spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"),CFrame.new(28333333333333332.183014, 1110.88806, 110.134346, 0.903371155, 0.423925817, 0.0648609251, -0.0689647198, 0.29287222, -0.953661203, -0.423277557, 0.857037008, 0.293808222),0,1000000,Vector3.new(333333333333333330.6399237983, -2.29492244e-07, -4.95887899),"rbxassetid://241837157",.5,Color3.new(0.694118, 0.333333, 1),1,"rbxassetid://542443306",0.3)
							wait(.2)
						end
					end
				end))
			end
		elseif cmd == Prefix.."Fling" or cmd == Prefix.."fling" then
			if not game.Players:FindFirstChild(player.Name) then return end if not spinunravel then return end
			
			spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"),CFrame.new(28333333333333332.183014, 1110.88806, 110.134346, 0.903371155, 0.423925817, 0.0648609251, -0.0689647198, 0.29287222, -0.953661203, -0.423277557, 0.857037008, 0.293808222),0,1000000,game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.LookVector*0+Vector3.new(100000000,100000000,100000000),"rbxassetid://241837157",math.huge,Color3.new(0.694118, 0.333333, 1),1,"rbxassetid://542443306",0.3)

		elseif cmd == Prefix.."Deletestand" or cmd == Prefix.."deletestand" then
			if not game.Players:FindFirstChild(player.Name) then return end if not deletestand then return end

			deletestand:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"),CFrame.new(Vector3.new(-3779.5500488281, 1277.2583007813, 1871.30859375), Vector3.new(-0.41069880127907, 0.35992509126663, -0.83772355318069)),0)

		elseif cmd == Prefix.."Serverlock" or cmd == Prefix.."serverlock" then

			game.Players.PlayerAdded:Connect(function(plr)
				while wait() do
					coroutine.resume(coroutine.create(function()
						local otherChar = plr.Character or plr.CharacterAdded:Wait()
						if (plr.Character.HumanoidRootPart.Position - otherChar.HumanoidRootPart.Position).magnitude < 10000 then
							game:GetService("ReplicatedStorage").SpinUnravel:FireServer(otherChar:FindFirstChildOfClass("Humanoid"),CFrame.new(28333333333333332.183014, 1110.88806, 110.134346, 0.903371155, 0.423925817, 0.0648609251, -0.0689647198, 0.29287222, -0.953661203, -0.423277557, 0.857037008, 0.293808222),0,1000000,Vector3.new(333333333333333330.6399237983, -2.29492244e-07, -4.95887899),"rbxassetid://241837157",.5,Color3.new(0.694118, 0.333333, 1),1,"rbxassetid://542443306",0.3)
							wait(.2)
						end
					end))
				end
			end)

		elseif cmd == Prefix.."Kill" or cmd == Prefix.."kill" then
			if not game.Players:FindFirstChild(player.Name) then return end if not spinunravel then return end

			spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0), math.huge, 0, plr.Character.HumanoidRootPart.CFrame.LookVector*-1+Vector3.new(0,0,0), 0.05, 0, 1, 2)

			wait(.2)

			if game.Players[player.Name].Character.Humanoid.Health ~= 0 and samuraidmg then
				samuraidmg:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"),math.huge,0,game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector * 10)
			end
		elseif cmd == Prefix.."Bring" or cmd == Prefix.."bring" then
			if not game.Players:FindFirstChild(player.Name) then return end if not swap then return end	

			local location = plr.Character.HumanoidRootPart.CFrame

			local part = Instance.new("Part")
			part.Anchored = true
			part.CanCollide = false
			part.Transparency = 1
			part.Parent = workspace
			part.CFrame = location

			local weld = Instance.new("Weld")
			weld.Parent = part
			weld.Part0 = part
			weld.Part1 = plr.Character.HumanoidRootPart

			plr.Character.HumanoidRootPart.Anchored = true
			wait(.1)
			plr.Character.HumanoidRootPart.CFrame = location
			swap:FireServer(game.Players[player.Name].Character)
			plr.Character.HumanoidRootPart.CFrame = location
			wait(.15)
			plr.Character.HumanoidRootPart.CFrame = location
			part:Destroy()
			plr.Character.HumanoidRootPart.Anchored = false
			plr.Character.HumanoidRootPart.CFrame = location

		elseif cmd == Prefix.."Goto" or cmd == Prefix.."goto" or cmd == Prefix.."To" or cmd == Prefix.."to" then
			if not game.Players:FindFirstChild(player.Name) then return end

			plr.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame

		elseif cmd == Prefix.."God" or cmd == Prefix.."god" then
			if not spinunravel then return end
			autogod = true
			if player ~= nil then
				repeat wait()
					repeat wait() until game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid") and game.Players[player.Name].Character:FindFirstChild("HumanoidRootPart") and not game.Players[player.Name].Character:FindFirstChild("ForceField")
					if game.Players[player.Name].Character.Humanoid.Health < 100000000 and game.Players[player.Name].Character.Humanoid.Health ~= 0 then
						spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0), -math.huge, 0, game.Players[player.Name].Character.HumanoidRootPart.CFrame.LookVector*-1+Vector3.new(0,0,0), 0.05, 0, 1, 2)
					end	
				until autogod == false
			elseif player == nil then
				repeat wait()
					repeat wait() until plr.Character:FindFirstChildOfClass("Humanoid") and not plr.Character:FindFirstChild("ForceField") and plr.Character:FindFirstChild("HumanoidRootPart")
					if plr.Character.Humanoid.Health < 100000000 and plr.Character.Humanoid.Health ~= 0 then
						spinunravel:FireServer(plr.Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0), -math.huge, 0, plr.Character.HumanoidRootPart.CFrame.LookVector*-1+Vector3.new(0,0,0), 0.05, 0, 1, 2)
					end	
				until autogod == false
			end

		elseif cmd == Prefix.."Ungod" or cmd == Prefix.."ungod" then
			if not heal then return end

			if player ~= nil then
				heal:FireServer(game.Players[player.Name].Character.Humanoid,CFrame.new(100000000000, 1111.13892, -19.8408966, -0.192829564, -0.955851674, -0.221729204, 0.155828059, 0.193271622, -0.968691707, 0.968779564, -0.221344039, 0.111680053),1,.25,Vector3.new(39.2514496, 2.36321148e-06, -30.9729347),.25,"rbxassetid://1202656211",1.3333333333333,.9)
			elseif player == nil then
				autogod = false
				heal:FireServer(plr.Character.Humanoid,CFrame.new(100000000000, 1111.13892, -19.8408966, -0.192829564, -0.955851674, -0.221729204, 0.155828059, 0.193271622, -0.968691707, 0.968779564, -0.221344039, 0.111680053),1,.25,Vector3.new(39.2514496, 2.36321148e-06, -30.9729347),.25,"rbxassetid://1202656211",1.3333333333333,.9)
			end

		elseif cmd == Prefix.."Mute" or cmd == Prefix.."mute" then
			if not game.Players:FindFirstChild(player.Name) then return end

			while wait() do
				mute(game.Players[player.Name],game.Players[player.Name].HumanoidRootPart)
				mute(game.Players[player.Name],game.Players[player.Name].Torso)
				if game.Players[player.Name].Character:FindFirstChild("Stand") then
					mute(game.Players[player.Name],game.Players[player.Name].Stand)
				end
			end
			
		elseif cmd == Prefix.."Damage" or cmd == Prefix.."damage" or cmd == Prefix.."Dmg" or cmd == Prefix.."dmg" then

			loadstring(game:HttpGet('https://raw.githubusercontent.com/phoenixplayz68/phoenixplayz68/master/IGOEINGDMG'))()

		elseif cmd == Prefix.."Freeze" or cmd == Prefix.."freeze" then
			if not game.Players:FindFirstChild(player.Name) then return end if not spinunravel then return end	

			spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0), 0, math.huge, game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.LookVector*0+Vector3.new(0,0,0), 0.05, 0, 1, 2)

			wait(.2)
			if not game.Players[player.Name].Character.HumanoidRootPart:FindFirstChildOfClass("BodyVelocity") and samuraidmg then
				samuraidmg:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"),0,math.huge,game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector * 0)
			end

		elseif cmd == Prefix.."Nostun" or cmd == Prefix.."nostun" then

			while wait() do
				repeat wait() until plr.Character:FindFirstChildOfClass("Humanoid") and plr.Character:FindFirstChild("HumanoidRootPart")
				if plr.Character.Humanoid.PlatformStand == true then
					plr.Character.Humanoid.PlatformStand = false
				end
				if plr.Character.Humanoid.WalkSpeed == 0 then
					plr.Character.Humanoid.WalkSpeed = 16
				end
				if plr.Character.Humanoid.JumpPower == 0 then
					plr.Character.Humanoid.JumpPower = 16
				end
				if plr.Character.HumanoidRootPart:FindFirstChildOfClass("BodyVelocity") then
					plr.Character.HumanoidRootPart:FindFirstChildOfClass("BodyVelocity"):Destroy()
				end
			end

		elseif cmd == Prefix.."Nocooldown" or cmd == Prefix.."nocooldown" or cmd == Prefix.."Nocd" or cmd == Prefix.."nocd" or cmd == Prefix.."Ncd" or cmd == Prefix.."ncd" then
			-------
			if nocd == true then return end
			nocd = true
			loadstring(game:HttpGet("https://raw.githubusercontent.com/phoenixplayz68/phoenixplayz68/master/IGOEINGNOCD"))()
			-------
		elseif cmd == Prefix.."Lag" or cmd == Prefix.."lag" then
			-------
			if not lagremote then return end
			repeat wait()
				lagremote:FireServer()
			until lag == false
			-------
		elseif cmd == Prefix.."Unlag" or cmd == Prefix.."unlag" then
			lag = false
			plr.Character.Humanoid.Health = 0
		elseif cmd == Prefix.."Antits" or cmd == Prefix.."antits" then
			-------
			while wait() do
				repeat wait() until plr.Character:FindFirstChildOfClass("Humanoid") and plr.Character:FindFirstChild("HumanoidRootPart")
				if plr.Character.Torso.Anchored == true then
					for i,v in pairs(plr.Character:GetDescendants()) do
						if v:IsA("BasePart") then
							if v.Anchored == true then
								if not anchor then 
									v.Anchored = false
								else
									anchor:FireServer(v,false)
								end
							end
						end
					end
				end
			end
			-------
		elseif cmd == Prefix.."Dex" or cmd == Prefix.."dex" then
			-------
			local find = game.CoreGui:FindFirstChild("Dex")
			if find then
				find:Destroy()
			else
				local Dex = game:GetObjects("rbxassetid://3567096419")[1]
				Dex.Parent = game.CoreGui
				Dex.Name = "Dex"

				local function Load(Obj, Url)
					local function GiveOwnGlobals(Func, Script)
						local Fenv = {}
						local RealFenv = {script = Script}
						local FenvMt = {}
						FenvMt.__index = function(a,b)
							if RealFenv[b] == nil then
								return getfenv()[b]
							else
								return RealFenv[b]
							end
						end
						FenvMt.__newindex = function(a, b, c)
							if RealFenv[b] == nil then
								getfenv()[b] = c
							else
								RealFenv[b] = c
							end
						end
						setmetatable(Fenv, FenvMt)
						setfenv(Func, Fenv)
						return Func
					end
					local function LoadScripts(Script)
						if Script.ClassName == "Script" or Script.ClassName == "LocalScript" then
							spawn(function()
								GiveOwnGlobals(loadstring(Script.Source, "=" .. Script:GetFullName()), Script)()
							end)
						end
						for i,v in pairs(Script:GetChildren()) do
							LoadScripts(v)
						end
					end
					LoadScripts(Obj)
				end

				Load(Dex)
			end
			-------
		elseif cmd == Prefix.."Ragdoll" or cmd == Prefix.."ragdoll" then
			-------
			if not game.Players:FindFirstChild(player.Name) then return end if not spinunravel and not knock then return end

			spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0),-math.huge, 0, plr.Character.HumanoidRootPart.CFrame.LookVector*-1+Vector3.new(0,0,0), 0.05, 0, 1, 2)
			wait(.5)
			spinunravel:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"), CFrame.new(0,0,0), math.huge, 0, plr.Character.HumanoidRootPart.CFrame.LookVector*-1+Vector3.new(0,0,0), 0.05, 0, 1, 2)
			knock:FireServer(game.Players[player.Name].Character:FindFirstChildOfClass("Humanoid"))
			-------
		elseif cmd == Prefix.."Visible" or cmd == Prefix.."visible" then
			if not game.Players:FindFirstChild(player.Name) then return end if not transparency then return end
			
			visible(0)
			
		elseif cmd == Prefix.."Invisible" or cmd == Prefix.."invisible" then
			if not game.Players:FindFirstChild(player.Name) then return end if not transparency then return end
			
			visible(1)
			
		elseif cmd == Prefix.."Tpmenu" or cmd == Prefix.."tpmenu" then
			-------
			loadstring(game:HttpGet("https://raw.githubusercontent.com/phoenixplayz68/phoenixplayz68/master/IGOEINGDEX"))()
			-------	
		end
	end))
end

game:GetService("UserInputService").InputBegan:connect(function(input, chat)
	if input.KeyCode == Enum.KeyCode.Semicolon then
		if chat and not TextBox:IsFocused() then return end
		TextBox:CaptureFocus()
		Commands.CanvasPosition = Vector2.new(0, 0)
		maximize()
		fix()
		TextBox.Text = ""
		repeat wait() until TextBox.Text == ";"
		TextBox.Text = ""
	elseif input.KeyCode == Enum.KeyCode.Return then
		cmds(TextBox.Text)
		TextBox.Text = ""
	end
end)

TextBox.FocusLost:Connect(function()
	minimize()
	fix()
	IndexContents('',true,false,true)
end)

plr.Chatted:Connect(function(msg)
	cmds(msg)
end)
